<section class="order-history">
  <lib-section-header label="ORDERS" heading="Order History" />

  @if (loading()) {
    <app-loading-spinner />
  } @else if (error()) {
    <app-error-state message="Failed to load orders." (retry)="loadOrders()" />
  } @else if (orders().length === 0) {
    <p class="order-history__empty">You haven't placed any orders yet.</p>
  } @else {
    <div class="order-history__list">
      @for (order of orders(); track order.id) {
        <a [routerLink]="['/order', order.id]" class="order-history__item">
          <div class="order-history__item-info">
            <span class="order-history__item-date">{{ order.createdAt | date:'mediumDate' }}</span>
            <span class="order-history__item-status">{{ order.status }}</span>
          </div>
          <div class="order-history__item-right">
            <span class="order-history__item-total">${{ order.totalAmount.toFixed(2) }}</span>
            <span class="order-history__item-arrow">&rarr;</span>
          </div>
        </a>
      }
    </div>
  }
</section>
